<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><p><a href="https://travis-ci.org/cancerberoSgx/cli-driver"><img src="https://travis-ci.org/cancerberoSgx/cli-driver.png?branch=master" alt="Build Status"></a> <a href="https://ci.appveyor.com/project/cancerberoSgx/cli-driver/branch/master"><img src="https://ci.appveyor.com/api/projects/status/w3ynfan159ejobkv/branch/master?svg=true" alt="appveyor Build status"></a> <a href="https://david-dm.org/cancerberosgx/cli-driver?path=packages/cli-driver"><img src="https://david-dm.org/cancerberosgx/cli-driver/status.svg" alt="dependencies"></a> <a href="https://david-dm.org/cancerberosgx/cli-driver-dev?path=packages/cli-driver#info=devDependencies"><img src="https://david-dm.org/cancerberosgx/cli-driver/dev-status.svg" alt="devDependencies"></a></p>
<p><em>cli-driver</em>: like webdriver but for the command line</p>
<h1>Usage</h1><pre class="prettyprint source lang-sh"><code>npm install cli-driver</code></pre><pre class="prettyprint source lang-js"><code>import Driver from 'cli-driver'

describe('pretty specs for readme', () => {
  it('enter ls command should print package.json and tsconfig.json file', async () => {
    const client = new Driver()
    client.start()
    client.enter('ls')
    // now we wait until package.json is printed in stdout
    const data = await client.waitForData(data => data.includes('package.json'))
    expect(data).toContain('package.json')
    expect(data).toContain('tsconfig.json')
    client.destroy()
  })

  it('same as before but without async/await just good-old then()', (done) => {
    const client = new Driver()
    client.start()
    client.enter('ls')
    // now we wait until package.json is printed in stdout
    client.waitForData(data => data.includes('package.json')).then(data => {
      expect(data).toContain('package.json')
      expect(data).toContain('tsconfig.json')
      client.destroy()
      done()
    })
  })
})
</code></pre><h1>Instrument npm init</h1><p>TODO</p>
<h1>Why ?</h1><p>I'm author of plenty packages that use interactive CLI, like yeoman generators and inquirer-based stuff and I would really like to implement integration tests, not just mocking the CLI, but test them in the real worl in different operating systems. </p>
<p>There is a similar node package, <a href="https://github.com/jprichardson/node-suppose">node-suppose</a> that attack the same problem, but IMO the UNIX API and semantics is very limited for today days and I wanted an API more imperative, similar to webdriver. </p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CliDriver.html">CliDriver</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-sample_tutorial.html">Just An Example Tutorial</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sat Apr 07 2018 15:46:50 GMT-0300 (-03)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>